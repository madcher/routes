{"version":3,"sources":["components/Header.js","components/Map.js","serviceWorker.js","components/Content.js","App.js","index.js"],"names":["Header","className","onClick","MapComponent","useEffect","L","window","mymap","map","setView","tileLayer","attribution","addTo","Routing","control","addWaypoints","draggableWaypoints","fitSelectedRoutes","collapsible","show","waypoints","latLng","id","workerFunction","blob","Blob","this","onmessage","data","wsConnection","WebSocket","onopen","postMessage","hint","onclose","event","wasClean","code","reason","evt","message","onerror","error","replace","blobURL","URL","webkitURL","createObjectURL","type","Content","myWorker","Worker","addThis","num1","num2","alert","console","log","Notification","permission","requestPermission","Map","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yJAWeA,EATA,WACX,OACI,sBAAKC,UAAU,SAAf,UACI,qBAAKA,UAAU,gBAAf,wBACA,8BAAK,wBAAQA,UAAU,iBAAiBC,QAAS,aAA5C,2BCsBFC,EA1BM,WAqBjB,OApBAC,qBAAU,WACN,IAAMC,EAAIC,OAAOD,EACXE,EAAQF,EAAEG,IAAI,SAASC,QAAQ,CAAC,UAAW,SAAU,IAI7CJ,EAAEK,UAFA,qDAEmB,CAACC,YAAa,UAC3CC,MAAML,GACZF,EAAEQ,QAAQC,QAAQ,CAAOC,cAAc,EACnCC,oBAAoB,EACpBC,mBAAmB,EACnBC,aAAa,EACbC,MAAM,EACNC,UAAW,CACPf,EAAEgB,OAAO,UAAW,SACpBhB,EAAEgB,OAAO,UAAW,SACpBhB,EAAEgB,OAAO,UAAW,YAEzBT,MAAML,KACV,IAEC,qBAAKe,GAAG,WCODC,IC1BXC,EAAO,IAAIC,KAAK,EADN,IDJd,WACeC,KACNC,UAAY,SAAS,GAAQ,EAAPC,KAAQ,IACzBC,EAAe,IAAIC,UAAU,uBAGnCD,EAAaE,OAAS,WAClBC,YAAY,CAACC,KAAM,qIAGvBJ,EAAaK,QAAU,SAASC,GACxBA,EAAMC,SACNJ,YAAY,CAACC,KAAM,2IAGnBD,YAAY,CAACC,KAAM,gGAEvBD,YAAY,CAACC,KAAM,uBAAUE,EAAME,KAAO,gDAAeF,EAAMG,UAGnET,EAAaF,UAAY,SAAAY,GAErBP,YAAY,CAACQ,QAASD,EAAIX,QAG9BC,EAAaY,QAAU,SAASC,GAC5BV,YAAY,CAACU,MAAO,wCAAYA,EAAMF,aCtBb,QACRG,QAAQ,gBAAiB,MAElDC,GAAWtC,OAAOuC,IAAMvC,OAAOuC,IAAMvC,OAAOwC,WAAWC,gBAAgBvB,EAAM,CAC7EwB,KAAM,0CA8CKC,EA1CC,WAiCZ,OAhCA7C,qBAAU,WACN,IAAM8C,EAAW,IAAIC,OAAOP,GAG5BM,EAASlB,YADO,CAAEoB,QAAS,CAACC,KAAM,EAAGC,KAAM,MAE3CJ,EAASvB,UAAY,YAAa,IAAXC,EAAU,EAAVA,KACZc,EAAwBd,EAAxBc,MAAOT,EAAiBL,EAAjBK,KAAMO,EAAWZ,EAAXY,QAOpB,GANIE,GACAa,MAAMb,GAENT,GACAuB,QAAQC,IAAIxB,GAEZO,EAGA,GAFAgB,QAAQC,IAAIjB,GAEoB,YAA5BkB,aAAaC,WAEM,IAAID,aAAalB,OACD,WAA5BkB,aAAaC,YACpBD,aAAaE,mBAAkB,SAAUD,GAErC,GAAmB,YAAfA,EACmB,IAAID,aAAalB,SAOzD,IAGC,sBAAKvC,UAAU,UAAf,UACI,gDACA,wBAAQ+C,KAAK,SAAS/C,UAAU,0BAA0BC,QAAS,aAAnE,wBACA,cAAC2D,EAAD,QCpCGC,G,KAPH,WACR,OAAO,gCACC,cAAC,EAAD,IACA,cAAC,EAAD,SCJZC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.341a8d7d.chunk.js","sourcesContent":["import React from 'react';\n// шапка страницы\nconst Header = () => {\n    return (\n        <div className=\"header\">\n            <div className=\"header__label\">my-courses</div>\n            <div><button className=\"header__logout\" onClick={() => {}}>Log out</button></div>\n        </div>\n    );\n}\n\nexport default Header;","import React, {useEffect} from 'react';\n\nconst MapComponent = () => {\n    useEffect(() => {\n        const L = window.L;\n        const mymap = L.map('mapid').setView([55.755826, 37.6173], 13);\n        // url of tiles z - zoom , x - latitude, y - longitude\n        const tileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n        // tiles\n        const tiles = L.tileLayer(tileUrl, {attribution: 'mymap'});\n        tiles.addTo(mymap);\n        L.Routing.control({      addWaypoints: false,\n            draggableWaypoints: false,\n            fitSelectedRoutes: false,\n            collapsible: false,\n            show: false,\n            waypoints: [\n                L.latLng(55.755826, 37.6173),\n                L.latLng(55.855826, 37.8173),\n                L.latLng(55.955826, 37.9179)\n            ]\n        }).addTo(mymap);\n    }, []);\n    return (\n        <div id=\"mapid\"></div>\n    );\n};\n\nexport default MapComponent;","function workerFunction() {\n    var self = this;\n    self.onmessage = function({data}) {\n        const wsConnection = new WebSocket(\"ws://localhost:8888\");\n    \n        // web socket\n        wsConnection.onopen = function() {\n            postMessage({hint: 'Соединение установлено'});\n        };\n    \n        wsConnection.onclose = function(event) {\n            if (event.wasClean) {\n                postMessage({hint: 'Соединение закрыто чисто'});\n            } else {\n                // например, \"убит\" процесс сервера\n                postMessage({hint: 'Обрыв соединения'});\n            }\n            postMessage({hint: 'Код: ' + event.code + ' причина: ' + event.reason});\n        };\n    \n        wsConnection.onmessage = evt => {\n            // отправляем сообщение в основной поток\n            postMessage({message: evt.data});\n        }\n    \n        wsConnection.onerror = function(error) {\n            postMessage({error: \"Ошибка \" + error.message});\n        };\n    }\n}\n\nexport default workerFunction;\n\n\n\n\n\n","import React, {useEffect} from 'react';\nimport Map from './Map';\nimport workerFunction from '../serviceWorker';\n\nvar dataObj = '(' + workerFunction + ')();'; // here is the trick to convert the above fucntion to string\nvar blob = new Blob([dataObj.replace('\"use strict\";', '')]); // firefox adds \"use strict\"; to any function which might block worker execution so knock it off\n\nvar blobURL = (window.URL ? window.URL : window.webkitURL).createObjectURL(blob, {\n    type: 'application/javascript; charset=utf-8'\n});\n\n// содержания страницы\nconst Content = () => {\n    useEffect(() => {\n        const myWorker = new Worker(blobURL);\n        //const myWorker = new Worker('serviceWorker.js');\n        const message = { addThis: {num1: 1, num2: 10} };\n        myWorker.postMessage(message);\n        myWorker.onmessage = ({data}) => {\n            const {error, hint, message} = data;\n            if (error) {\n                alert(error);\n            }\n            if (hint) {\n                console.log(hint);\n            }\n            if (message) {\n                console.log(message);\n                // создаем уведомление\n                if (Notification.permission === \"granted\") {\n                    // Если разрешено, то создаем уведомление\n                    var notification = new Notification(message);\n                } else if (Notification.permission !== 'denied') {\n                    Notification.requestPermission(function (permission) {\n                        // Если пользователь разрешил, то создаем уведомление\n                        if (permission === \"granted\") {\n                            var notification = new Notification(message);\n                        }\n                    });\n                }\n            }\n        }\n        \n    }, []);\n\n    return (\n        <div className=\"content\">\n            <div>Hello world !</div>\n            <button type=\"button\" className=\"auth__input auth_button\" onClick={() => {}}>Add course</button>\n            <Map/>\n        </div>\n    );\n}\n\nexport default Content;","import React from 'react';\nimport Header from './components/Header';\nimport Content from './components/Content';\nimport './style.css';\n\n// компонент приложения\nconst App = () => {\n    return(<div>\n            <Header/>\n            <Content/>\n        </div>);\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}